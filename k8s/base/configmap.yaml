apiVersion: v1
kind: ConfigMap
metadata:
  name: ethos-config
  namespace: ethos-go
  labels:
    app.kubernetes.io/name: ethos
    app.kubernetes.io/component: config
    app.kubernetes.io/part-of: ethos-go
data:
  # Application Configuration
  APP_NAME: "ethos-go"
  APP_ENV: "production"
  APP_VERSION: "1.0.0"

  # Server Configuration
  SERVER_HOST: "0.0.0.0"
  SERVER_PORT: "8080" # Binary listens on 8080 for both API and Frontend

  # Database Configuration
  DB_HOST: "postgresql"
  DB_PORT: "5432"
  DB_USER: "ethosgo"
  DB_DB: "ethosgo"
  DB_SSL_MODE: "require"

  # Redis Configuration
  REDIS_HOST: "redis"
  REDIS_PORT: "6379"
  REDIS_DB: "0"

  # Logger Configuration
  LOGGER_LEVEL: "info"
  LOGGER_OUTPUT: "stdout"
  LOGGER_MAX_SIZE: "100"
  LOGGER_MAX_BACKUPS: "3"
  LOGGER_MAX_AGE: "28"
  LOGGER_COMPRESS: "true"

  # Auth Configuration
  AUTH_ACCESS_TOKEN_EXPIRY: "15m"
  AUTH_REFRESH_TOKEN_EXPIRY: "7d" # Increased for better UX
  AUTH_PASSWORD_MIN_LENGTH: "8"

  # OpenTelemetry Configuration
  OTLP_ENDPOINT: "otel-collector:4317"
  OTLP_ENABLE_TRACING: "true"
  OTLP_ENABLE_METRICS: "true"
  OTLP_SAMPLE_RATE: "1.0"
