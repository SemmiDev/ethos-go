apiVersion: v1
kind: Service
metadata:
  name: ethos-app
  namespace: ethos-go
  labels:
    app.kubernetes.io/name: ethos
    app.kubernetes.io/component: app
    app.kubernetes.io/part-of: ethos-go
spec:
  type: ClusterIP
  ports:
    - port: 80
      targetPort: http
      protocol: TCP
      name: http
  selector:
    app.kubernetes.io/name: ethos
    app.kubernetes.io/component: app

---
# Headless service for direct pod access (useful for debugging)
apiVersion: v1
kind: Service
metadata:
  name: ethos-app-headless
  namespace: ethos-go
  labels:
    app.kubernetes.io/name: ethos
    app.kubernetes.io/component: app
spec:
  type: ClusterIP
  clusterIP: None
  ports:
    - port: 80
      targetPort: http
      protocol: TCP
      name: http
  selector:
    app.kubernetes.io/name: ethos
    app.kubernetes.io/component: app
